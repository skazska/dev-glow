# TaskTrack Process Configuration (updated for POC_1 schema)

version: "0.1.0"

classifications:
  - id: type
    name: "Step Type"
    values:
      - key: Feature
        name: "Feature"
      - key: Task
        name: "Task"
      - key: Process
        name: "Process"

parameter_types:
  - id: FEATURE_ID
    purpose: "Feature identifier"
    data_type: STR
    is_required: true

  - id: FEATURE_NAME
    purpose: "Feature name"
    data_type: STR
    is_required: true

  - id: FEATURE_DESCRIPTION
    purpose: "Feature description"
    data_type: CONTENT

  - id: REQUIREMENTS_DOC
    purpose: "Requirements documentation"
    data_type: CONTENT

  - id: ACCEPTANCE_CRITERIA
    purpose: "Acceptance criteria"
    data_type: SET

  - id: DESIGN_DOC
    purpose: "Design documentation"
    data_type: CONTENT

  - id: API_SPEC
    purpose: "API specification"
    data_type: CONTENT

  - id: CODE_LOCATION
    purpose: "Code location"
    data_type: STR

  - id: TEST_RESULTS
    purpose: "Test results"
    data_type: STR

  - id: RELEASE_NOTES
    purpose: "Release notes"
    data_type: CONTENT

root_process:
  id: ROOT
  purpose: "TaskTrack Development Process"
  expectations: "All features implemented and tested"

  steps:
    # Feature template - can have multiple instances (FEAT-001, FEAT-002, etc.)
    - id: FEAT
      purpose: "Feature Development"
      classification: "Feature"
      allow_iterations: true
      scope:
        - id: FEATURE_ID
          type_ref: FEATURE_ID
          is_required: true
        - id: FEATURE_NAME
          type_ref: FEATURE_NAME
          is_required: true
        - id: FEATURE_DESCRIPTION
          type_ref: FEATURE_DESCRIPTION
      outputs:
        - id: RELEASE_NOTES
          type_ref: RELEASE_NOTES

      steps:
        - id: REQ
          purpose: "Requirements Gathering"
          classification: "Task"
          allow_iterations: true
          expectations: "Requirements documented with acceptance criteria"
          outputs:
            - id: REQUIREMENTS_DOC
              type_ref: REQUIREMENTS_DOC
            - id: ACCEPTANCE_CRITERIA
              type_ref: ACCEPTANCE_CRITERIA

        - id: DESIGN
          purpose: "Solution Design"
          classification: "Task"
          allow_iterations: true
          expectations: "Design documented with API specification"
          inputs:
            - id: REQUIREMENTS_DOC
              type_ref: REQUIREMENTS_DOC
              mapping: "links.REQ.output.REQUIREMENTS_DOC"
          outputs:
            - id: DESIGN_DOC
              type_ref: DESIGN_DOC
            - id: API_SPEC
              type_ref: API_SPEC

        - id: IMPL
          purpose: "Implementation"
          classification: "Task"
          allow_iterations: true
          expectations: "Code implemented and tests written"
          inputs:
            - id: DESIGN_DOC
              type_ref: DESIGN_DOC
              mapping: "links.DESIGN.output.DESIGN_DOC"
          outputs:
            - id: CODE_LOCATION
              type_ref: CODE_LOCATION

        - id: TEST
          purpose: "Testing and Validation"
          classification: "Task"
          allow_iterations: true
          expectations: "All tests passing and acceptance criteria met"
          inputs:
            - id: CODE_LOCATION
              type_ref: CODE_LOCATION
              mapping: "links.IMPL.output.CODE_LOCATION"
            - id: ACCEPTANCE_CRITERIA
              type_ref: ACCEPTANCE_CRITERIA
              mapping: "links.REQ.output.ACCEPTANCE_CRITERIA"
          outputs:
            - id: TEST_RESULTS
              type_ref: TEST_RESULTS

      links:
        - type: dependency
          from: DESIGN
          to: REQ
        - type: dependency
          from: IMPL
          to: DESIGN
        - type: dependency
          from: TEST
          to: IMPL
